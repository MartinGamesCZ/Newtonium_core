// @bun
import{dlopen as w,FFIType as j}from"bun:ffi";self.onmessage=(q)=>{const r=w(q.data.lib_path,{create_application:{args:[j.cstring],returns:j.ptr},create_window:{args:[j.ptr,j.cstring],returns:j.void},modify_component:{args:[j.cstring],returns:j.void}});let k=new TextEncoder().encode(q.data.id);k=new Uint8Array([...k,0]);let m=null;try{m=r.symbols.create_application(k)}catch(h){console.log(h)}if(!m)throw new Error("No window");try{let h=new TextEncoder().encode("Hello, World!");h=new Uint8Array([...h,0]);let v=r.symbols.create_window(m,h);console.log(v)}catch(h){console.log(h)}};
